---
import type { Taxonomy } from '~/types';

export interface Props {
  tags: Taxonomy[];
  selectedTag?: string;
  class?: string;
}

const { tags, selectedTag, class: className = '' } = Astro.props;
---

<div class={`til-filter mb-8 ${className}`}>
  <div class="mb-4 flex items-center justify-between">
    <h2 class="text-foreground text-xl font-bold">Filter by Tag</h2>
    {
      selectedTag && (
        <a href="/til" class="text-primary hover:text-accent text-sm transition-colors">
          Clear filter
        </a>
      )
    }
  </div>

  <div class="flex flex-wrap gap-2">
    {
      tags.map(tag => (
        <a
          href={`/til?tag=${tag.slug}`}
          class={`rounded-full px-3 py-2 text-sm font-medium transition-colors ${
            selectedTag === tag.slug
              ? 'bg-primary text-white'
              : 'bg-muted hover:bg-muted-foreground/20 text-foreground'
          }`}
        >
          #{tag.title}
        </a>
      ))
    }
  </div>
</div>
