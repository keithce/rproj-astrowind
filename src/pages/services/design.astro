---
import PageLayout from '~/layouts/PageLayout.astro';
import Hero from '~/components/widgets/Hero.astro';
import Stats from '~/components/widgets/Stats.astro';
import Features from '~/components/widgets/Features.astro';
import Steps from '~/components/widgets/Steps.astro';
import Testimonials from '~/components/widgets/Testimonials.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';
import NotionContact from '~/components/widgets/NotionContact.astro';
import RelatedPages from '~/components/ui/RelatedPages.astro';
import ContextualLinks from '~/components/ui/ContextualLinks.astro';
import { getRelatedPages } from '~/utils/internal-linking';

const metadata = {
  title: 'Resonant Design',
  description:
    'Bespoke consulting for creator solopreneurs and small businesses. Optimize your workflow and tech stack with decades of experience.',
};

// Get related service pages
const relatedServices = getRelatedPages('/services/design', 3, true);

// Contextual links for this service
const contextualLinks = [
  {
    text: 'View Our Audio Services',
    href: '/services/rhythm',
    icon: 'tabler:music',
    description: 'Music production and audio engineering services'
  },
  {
    text: 'Check Out Our Blog',
    href: '/blog',
    icon: 'tabler:article',
    description: 'Latest insights on creative technology'
  },
  {
    text: 'Read My Story',
    href: '/about',
    icon: 'tabler:user',
    description: 'Learn about the journey behind Resonant Projects'
  }
];
---

<PageLayout metadata={metadata}>
  <Hero
    tagline="Resonant Design"
    title="Streamline Your Creative Workflow"
    subtitle="Get personalized consulting that saves time and boosts productivity. We help creators and small businesses choose the right tools and optimize their processes."
    actions={[{ text: 'Get Started', href: '#contact', variant: 'primary' }]}
    image={{ src: '~/assets/images/consulting_hero.png', alt: 'Consulting session' }}
    showScrollIndicator={true}
  />

  <Stats
    title="Proven Results from Years of Experience"
    stats={[
      { amount: '20+', title: 'Years in Tech Integration', icon: 'tabler:device-desktop' },
      { amount: '100+', title: 'Businesses Empowered', icon: 'tabler:building-store' },
      { amount: '98%', title: 'Client Satisfaction', icon: 'tabler:star' },
    ]}
  />

  <Features
    title="What We Offer"
    subtitle="Clear solutions that help your business thrive."
    items={[
      {
        title: 'Workflow Optimization',
        description: 'We analyze how you work now. Then we create systems that save you hours every week.',
        icon: 'tabler:settings-cog',
      },
      {
        title: 'Tech Stack Consulting',
        description: 'Stop wasting money on tools you don't need. We help you choose software that actually fits your workflow.',
        icon: 'tabler:stack-2',
      },
      {
        title: 'Automation & Integration',
        description: 'Eliminate repetitive tasks. We connect your apps so they work together automatically.',
        icon: 'tabler:api-app',
      },
      {
        title: 'Personalized Support',
        description: 'Get help when you need it. We provide ongoing support as your business grows and changes.',
        icon: 'tabler:heart-handshake',
      },
    ]}
    columns={2}
  />

  <Steps
    title="How It Works"
    subtitle="Four simple steps to transform your workflow."
    items={[
      { title: 'Discovery Call', description: 'Tell us about your goals and current challenges. We listen and ask the right questions.' },
      { title: 'Custom Plan', description: 'Get a clear roadmap designed specifically for your business. No generic solutions.' },
      { title: 'Setup &amp; Training', description: 'We handle the technical setup. Then we train you so you feel confident using everything.' },
      { title: 'Ongoing Support', description: 'Questions come up. Changes happen. We provide support as your business evolves.' },
    ]}
  />

  <Testimonials
    title="What Clients Say"
    testimonials={[
      {
        name: 'Alex Rivera',
        job: 'Artist & Entrepreneur',
        testimonial:
          'Resonant Design transformed my creative workflow. I save hours every week and feel more in control of my business.',
      },
      {
        name: 'Morgan Lee',
        job: 'Small Business Owner',
        testimonial: 'The personalized tech advice was a game changer. Highly recommend for any solopreneur.',
      },
      {
        name: 'Jamie Chen',
        job: 'Content Creator',
        testimonial: 'I finally have a system that works for me, not against me. The ongoing support is invaluable.',
      },
    ]}
  />

  <CallToAction
    title="Ready to Optimize Your Workflow?"
    subtitle="Let's work together to make your next technology investment truly resonate."
    actions={[{ text: 'Contact Us', href: '#contact', variant: 'primary' }]}
  />

  <!-- Related Services Section -->
  <section class="py-12 bg-muted/30">
    <div class="max-w-7xl mx-auto px-4 sm:px-6">
      <RelatedPages 
        pages={relatedServices}
        title="Explore Our Other Services"
        variant="cards"
      />
      
      <div class="mt-8">
        <ContextualLinks 
          links={contextualLinks}
          title="Continue Your Journey"
        />
      </div>
    </div>
  </section>

  <NotionContact id="contact" defaultService="Design" />
</PageLayout>